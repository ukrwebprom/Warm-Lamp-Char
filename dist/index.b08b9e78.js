const e=document.querySelector("#historyframe"),t=document.querySelector(".logform-btn"),n=document.querySelector(".overlay"),o=new class{constructor(e){this.message={},this.handler=e}login(e,t){this.userName=e,this.chatID=t,this.ws=new WebSocket(`ws://tranquil-reaches-58824.herokuapp.com/?id=${this.chatID}&name=${this.userName}`)}onGetMessage(){this.handler(this.message)}send(){}}((function(t){((t,n)=>{const o=document.createElement("p");o.textContent=`${t}: ${n}`,e.append(o)})("Vasja",t)})),s=window.location.search,a=new URLSearchParams(s);t.textContent=a.has("chatid")?"Войти в чат":"Создать новый чат";const r=a.has("chatid")?a.get("chatid"):((e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),""))();document.querySelector(".logform").addEventListener("submit",(e=>{e.preventDefault();const t=e.target.elements.name.value.trim();""!==t&&(n.classList.toggle("hidden"),o.login(t,r))}));const c=document.querySelector("#typearea");c.addEventListener("keydown",(e=>{if("Enter"===e.key){e.preventDefault();const n=c.textContent.trim();""!==n&&(t=n,console.log(t),c.textContent="",o.send(t))}var t}));
//# sourceMappingURL=index.b08b9e78.js.map
